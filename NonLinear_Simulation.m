function [x] = NonLinear_Simulation(xIn,u,Ts)
%UNTITLED5 Summary of this function goes here
%   Detailed explanation goes here
g = 9.82;

m = 1.513;
Ixx = 0.0185; 
Iyy = 0.0201;
Izz = 0.0286;

% m = 1.513 + 0.3;
% Ixx = 0.0185 + 0.3*0.1^2; 
% Iyy = 0.0201 + 0.3*0.1^2;
% Izz = 0.0286;


kt = 0.011;
l_roll = 0.175;
l_pitch = 0.175;
km = 327e-6;
a1 = 0.0042;
a2 = 0.0042;
a3 = 0.0203;
c1 = 1.05;
c2 = 1.05;
c3 = 1.05;
rho = 1.204;

    omega_roll = kt*l_pitch*(cos(xIn(10))*sin(xIn(12)) - cos(xIn(12))*sin(xIn(11))*sin(xIn(10)))*(u(1) - u(2) + u(3) - u(4)) - km*(sin(xIn(12))*sin(xIn(10)) + cos(xIn(12))*cos(xIn(10))*sin(xIn(11)))*(u(1) + u(2) - u(3) - u(4)) - kt*l_roll*cos(xIn(11))*cos(xIn(12))*(u(1) - u(2) - u(3) + u(4));
    omega_pitch =-1*( km*(cos(xIn(12))*sin(xIn(10)) - cos(xIn(10))*sin(xIn(11))*sin(xIn(12)))*(u(1) + u(2) - u(3) - u(4)) - kt*l_pitch*(cos(xIn(12))*cos(xIn(10)) + sin(xIn(11))*sin(xIn(12))*sin(xIn(10)))*(u(1) - u(2) + u(3) - u(4)) - kt*l_roll*cos(xIn(11))*sin(xIn(12))*(u(1) - u(2) - u(3) + u(4))); 
    omega_yaw = kt*l_roll*sin(xIn(11))*(u(1) - u(2) - u(3) + u(4)) - km*cos(xIn(11))*cos(xIn(10))*(u(1) + u(2) - u(3) - u(4)) - kt*l_pitch*cos(xIn(11))*sin(xIn(10))*(u(1) - u(2) + u(3) - u(4));

    x_dot(1,1) = (- (a1*c1*rho*cos(xIn(11))*cos(xIn(12))*( sign(xIn(1)) )*xIn(1)^2)/2 + (a2*c2*rho*(cos(xIn(10))*sin(xIn(12)) - cos(xIn(12))*sin(xIn(11))*sin(xIn(10)))*( sign(xIn(2)) )*xIn(2)^2)/2 + (sin(xIn(12))*sin(xIn(10)) + cos(xIn(12))*cos(xIn(10))*sin(xIn(11)))*(kt*(u(1) + u(2) + u(3) + u(4)) - (a3*c3*rho*( sign(xIn(3)) )*xIn(3)^2)/2))/m;
    x_dot(2,1) = -((a1*c1*rho*cos(xIn(11))*sin(xIn(12))*( sign(xIn(1)) )*xIn(1)^2)/2 + (a2*c2*rho*(cos(xIn(12))*cos(xIn(10)) + sin(xIn(11))*sin(xIn(12))*sin(xIn(10)))*( sign(xIn(2)) )*xIn(2)^2)/2 + (cos(xIn(12))*sin(xIn(10)) - cos(xIn(10))*sin(xIn(11))*sin(xIn(12)))*(kt*(u(1) + u(2) + u(3) + u(4)) - (a3*c3*rho*( sign(xIn(3)) )*xIn(3)^2)/2))/m;
    x_dot(3,1) = ((a1*c1*rho*sin(xIn(11))*( sign(xIn(1)) )*xIn(1)^2)/2 - (a2*c2*rho*cos(xIn(11))*sin(xIn(10))*( sign(xIn(2)) )*xIn(2)^2)/2 + cos(xIn(11))*cos(xIn(10))*(kt*(u(1) + u(2) + u(3) + u(4)) - (a3*c3*rho*( sign(xIn(3)) )*xIn(3)^2)/2))/m - g;
    x_dot(4,1) =(- xIn(4)*Ixx^2*Iyy*xIn(5)*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(10)) + sin(xIn(11))*Ixx^2*Iyy*xIn(6)^2*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10))^2 + xIn(4)*Ixx^2*Iyy*xIn(6)*cos(xIn(11))^2*cos(xIn(10))^3 - xIn(4)*Ixx^2*Iyy*xIn(6)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10))^2 - xIn(4)*Ixx^2*Iyy*xIn(6)*cos(xIn(10))^3 + xIn(4)*Ixx^2*Izz*xIn(5)*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(10)) + xIn(4)*Ixx^2*Izz*xIn(5)*cos(xIn(11))*sin(xIn(10)) - sin(xIn(11))*Ixx^2*Izz*xIn(6)^2*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10))^2 - xIn(4)*Ixx^2*Izz*xIn(6)*cos(xIn(11))^2*cos(xIn(10))^3 + xIn(4)*Ixx^2*Izz*xIn(6)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10))^2 - xIn(4)*Ixx^2*Izz*xIn(6)*cos(xIn(11))^2*cos(xIn(10)) + xIn(4)*Ixx^2*Izz*xIn(6)*cos(xIn(10))^3 + xIn(4)*Ixx^2*Izz*xIn(6)*cos(xIn(10)) - Ixx*Iyy^2*xIn(5)^2*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10)) - sin(xIn(11))*Ixx*Iyy^2*xIn(5)^2*cos(xIn(10))^3*sin(xIn(10))^2 + Ixx*Iyy^2*xIn(5)^2*cos(xIn(10))^3*sin(xIn(10)) + 2*Ixx*Iyy^2*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^4 - Ixx*Iyy^2*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^2 - 2*Ixx*Iyy^2*xIn(5)*xIn(6)*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10))^2 + 2*sin(xIn(11))*Ixx*Iyy^2*xIn(5)*xIn(6)*cos(xIn(11))*cos(xIn(10))^4*sin(xIn(10)) - 2*Ixx*Iyy^2*xIn(5)*xIn(6)*cos(xIn(11))*cos(xIn(10))^4 + Ixx*Iyy^2*xIn(5)*xIn(6)*cos(xIn(11))*cos(xIn(10))^2 + xIn(4)*Ixx*Iyy^2*xIn(5)*cos(xIn(11))*cos(xIn(10))^4*sin(xIn(10)) + xIn(4)*Ixx*Iyy^2*xIn(5)*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(10))^3 + Ixx*Iyy^2*xIn(6)^2*cos(xIn(11))^4*cos(xIn(10))^3*sin(xIn(10)) + sin(xIn(11))*Ixx*Iyy^2*xIn(6)^2*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10))^2 - Ixx*Iyy^2*xIn(6)^2*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10)) - sin(xIn(11))*Ixx*Iyy^2*xIn(6)^2*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10))^2 + xIn(4)*Ixx*Iyy^2*xIn(6)*cos(xIn(11))^2*cos(xIn(10))^5 - xIn(4)*Ixx*Iyy^2*xIn(6)*cos(xIn(11))^2*cos(xIn(10))^3 + xIn(4)*Ixx*Iyy^2*xIn(6)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10))^4 + 2*Ixx*Iyy*Izz*xIn(5)^2*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10)) + Ixx*Iyy*Izz*xIn(5)^2*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10)) + 2*sin(xIn(11))*Ixx*Iyy*Izz*xIn(5)^2*cos(xIn(10))^3*sin(xIn(10))^2 - 2*Ixx*Iyy*Izz*xIn(5)^2*cos(xIn(10))^3*sin(xIn(10)) + sin(xIn(11))*Ixx*Iyy*Izz*xIn(5)^2*cos(xIn(10))*sin(xIn(10))^2 - Ixx*Iyy*Izz*xIn(5)^2*cos(xIn(10))*sin(xIn(10)) - 4*Ixx*Iyy*Izz*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^4 + Ixx*Iyy*Izz*xIn(5)*xIn(6)*cos(xIn(11))^3 + 4*Ixx*Iyy*Izz*xIn(5)*xIn(6)*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10))^2 + 2*Ixx*Iyy*Izz*xIn(5)*xIn(6)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10))^2 - 4*sin(xIn(11))*Ixx*Iyy*Izz*xIn(5)*xIn(6)*cos(xIn(11))*cos(xIn(10))^4*sin(xIn(10)) + 4*Ixx*Iyy*Izz*xIn(5)*xIn(6)*cos(xIn(11))*cos(xIn(10))^4 - 2*sin(xIn(11))*Ixx*Iyy*Izz*xIn(5)*xIn(6)*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(10)) - Ixx*Iyy*Izz*xIn(5)*xIn(6)*cos(xIn(11)) - 2*xIn(4)*Ixx*Iyy*Izz*xIn(5)*cos(xIn(11))*cos(xIn(10))^4*sin(xIn(10)) - 2*xIn(4)*Ixx*Iyy*Izz*xIn(5)*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(10))^3 - xIn(4)*Ixx*Iyy*Izz*xIn(5)*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(10)) + xIn(4)*Ixx*Iyy*Izz*xIn(5)*cos(xIn(11))*sin(xIn(10))^3 - 2*Ixx*Iyy*Izz*xIn(6)^2*cos(xIn(11))^4*cos(xIn(10))^3*sin(xIn(10)) - Ixx*Iyy*Izz*xIn(6)^2*cos(xIn(11))^4*cos(xIn(10))*sin(xIn(10)) - 2*sin(xIn(11))*Ixx*Iyy*Izz*xIn(6)^2*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10))^2 + 2*Ixx*Iyy*Izz*xIn(6)^2*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10)) + sin(xIn(11))*Ixx*Iyy*Izz*xIn(6)^2*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10))^2 + Ixx*Iyy*Izz*xIn(6)^2*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10)) - 2*xIn(4)*Ixx*Iyy*Izz*xIn(6)*cos(xIn(11))^2*cos(xIn(10))^5 - 2*xIn(4)*Ixx*Iyy*Izz*xIn(6)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10))^4 + xIn(4)*Ixx*Iyy*Izz*xIn(6)*cos(xIn(11))^2*cos(xIn(10)) - 2*sin(xIn(11))*Ixx*Iyy*xIn(5)*xIn(6)*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(10)) + omega_roll*Ixx*Iyy*cos(xIn(11))^2*cos(xIn(10))^2 + omega_pitch*Ixx*Iyy*cos(xIn(11))*cos(xIn(10))*sin(xIn(10))^2 - omega_yaw*Ixx*Iyy*cos(xIn(10))^2*sin(xIn(10)) - omega_roll*Ixx*Iyy*cos(xIn(10))^2 - Ixx*Izz^2*xIn(5)^2*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10)) - Ixx*Izz^2*xIn(5)^2*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10)) - sin(xIn(11))*Ixx*Izz^2*xIn(5)^2*cos(xIn(10))^3*sin(xIn(10))^2 + Ixx*Izz^2*xIn(5)^2*cos(xIn(10))^3*sin(xIn(10)) - sin(xIn(11))*Ixx*Izz^2*xIn(5)^2*cos(xIn(10))*sin(xIn(10))^2 + Ixx*Izz^2*xIn(5)^2*cos(xIn(10))*sin(xIn(10)) + 2*Ixx*Izz^2*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^4 + Ixx*Izz^2*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^2 - Ixx*Izz^2*xIn(5)*xIn(6)*cos(xIn(11))^3 - 2*Ixx*Izz^2*xIn(5)*xIn(6)*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10))^2 - 2*Ixx*Izz^2*xIn(5)*xIn(6)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10))^2 + 2*sin(xIn(11))*Ixx*Izz^2*xIn(5)*xIn(6)*cos(xIn(11))*cos(xIn(10))^4*sin(xIn(10)) - 2*Ixx*Izz^2*xIn(5)*xIn(6)*cos(xIn(11))*cos(xIn(10))^4 + 2*sin(xIn(11))*Ixx*Izz^2*xIn(5)*xIn(6)*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(10)) - Ixx*Izz^2*xIn(5)*xIn(6)*cos(xIn(11))*cos(xIn(10))^2 + Ixx*Izz^2*xIn(5)*xIn(6)*cos(xIn(11)) + xIn(4)*Ixx*Izz^2*xIn(5)*cos(xIn(11))*cos(xIn(10))^4*sin(xIn(10)) + xIn(4)*Ixx*Izz^2*xIn(5)*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(10))^3 + xIn(4)*Ixx*Izz^2*xIn(5)*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(10)) - xIn(4)*Ixx*Izz^2*xIn(5)*cos(xIn(11))*sin(xIn(10))^3 + Ixx*Izz^2*xIn(6)^2*cos(xIn(11))^4*cos(xIn(10))^3*sin(xIn(10)) + Ixx*Izz^2*xIn(6)^2*cos(xIn(11))^4*cos(xIn(10))*sin(xIn(10)) + sin(xIn(11))*Ixx*Izz^2*xIn(6)^2*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10))^2 - Ixx*Izz^2*xIn(6)^2*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10)) - Ixx*Izz^2*xIn(6)^2*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10)) + xIn(4)*Ixx*Izz^2*xIn(6)*cos(xIn(11))^2*cos(xIn(10))^5 + xIn(4)*Ixx*Izz^2*xIn(6)*cos(xIn(11))^2*cos(xIn(10))^3 + xIn(4)*Ixx*Izz^2*xIn(6)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10))^4 + 2*sin(xIn(11))*Ixx*Izz*xIn(5)*xIn(6)*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(10)) + 2*sin(xIn(11))*Ixx*Izz*xIn(5)*xIn(6)*cos(xIn(11))*sin(xIn(10)) - omega_roll*Ixx*Izz*cos(xIn(11))^2*cos(xIn(10))^2 - omega_roll*Ixx*Izz*cos(xIn(11))^2 - omega_pitch*Ixx*Izz*cos(xIn(11))*cos(xIn(10))*sin(xIn(10))^2 + omega_yaw*Ixx*Izz*cos(xIn(10))^2*sin(xIn(10)) + omega_roll*Ixx*Izz*cos(xIn(10))^2 + omega_yaw*Ixx*Izz*sin(xIn(10)) + omega_roll*Ixx*Izz - Iyy^3*xIn(5)^2*cos(xIn(11))^2*cos(xIn(10))^5*sin(xIn(10)) - Iyy^3*xIn(5)^2*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10))^3 + Iyy^3*xIn(5)^2*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10)) + 2*Iyy^3*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^6 + 2*Iyy^3*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^4*sin(xIn(10))^2 - 3*Iyy^3*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^4 - Iyy^3*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^2*sin(xIn(10))^2 + Iyy^3*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^2 + Iyy^3*xIn(6)^2*cos(xIn(11))^4*cos(xIn(10))^5*sin(xIn(10)) + Iyy^3*xIn(6)^2*cos(xIn(11))^4*cos(xIn(10))^3*sin(xIn(10))^3 - Iyy^3*xIn(6)^2*cos(xIn(11))^4*cos(xIn(10))^3*sin(xIn(10)) + 3*Iyy^2*Izz*xIn(5)^2*cos(xIn(11))^2*cos(xIn(10))^5*sin(xIn(10)) + 3*Iyy^2*Izz*xIn(5)^2*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10))^3 - Iyy^2*Izz*xIn(5)^2*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10)) - Iyy^2*Izz*xIn(5)^2*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10)) - 6*Iyy^2*Izz*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^6 - 6*Iyy^2*Izz*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^4*sin(xIn(10))^2 + 5*Iyy^2*Izz*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^4 + 3*Iyy^2*Izz*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^2*sin(xIn(10))^2 + Iyy^2*Izz*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^2 - Iyy^2*Izz*xIn(5)*xIn(6)*cos(xIn(11))^3 - 3*Iyy^2*Izz*xIn(6)^2*cos(xIn(11))^4*cos(xIn(10))^5*sin(xIn(10)) - 3*Iyy^2*Izz*xIn(6)^2*cos(xIn(11))^4*cos(xIn(10))^3*sin(xIn(10))^3 + Iyy^2*Izz*xIn(6)^2*cos(xIn(11))^4*cos(xIn(10))^3*sin(xIn(10)) + Iyy^2*Izz*xIn(6)^2*cos(xIn(11))^4*cos(xIn(10))*sin(xIn(10)) + omega_roll*Iyy^2*cos(xIn(11))^2*cos(xIn(10))^4 + omega_roll*Iyy^2*cos(xIn(11))^2*cos(xIn(10))^2*sin(xIn(10))^2 - omega_roll*Iyy^2*cos(xIn(11))^2*cos(xIn(10))^2 - 3*Iyy*Izz^2*xIn(5)^2*cos(xIn(11))^2*cos(xIn(10))^5*sin(xIn(10)) - 3*Iyy*Izz^2*xIn(5)^2*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10))^3 - Iyy*Izz^2*xIn(5)^2*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10)) + Iyy*Izz^2*xIn(5)^2*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10)) + 6*Iyy*Izz^2*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^6 + 6*Iyy*Izz^2*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^4*sin(xIn(10))^2 - Iyy*Izz^2*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^4 - 3*Iyy*Izz^2*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^2*sin(xIn(10))^2 - 3*Iyy*Izz^2*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^2 + Iyy*Izz^2*xIn(5)*xIn(6)*cos(xIn(11))^3 + 3*Iyy*Izz^2*xIn(6)^2*cos(xIn(11))^4*cos(xIn(10))^5*sin(xIn(10)) + 3*Iyy*Izz^2*xIn(6)^2*cos(xIn(11))^4*cos(xIn(10))^3*sin(xIn(10))^3 + Iyy*Izz^2*xIn(6)^2*cos(xIn(11))^4*cos(xIn(10))^3*sin(xIn(10)) - Iyy*Izz^2*xIn(6)^2*cos(xIn(11))^4*cos(xIn(10))*sin(xIn(10)) - 2*omega_roll*Iyy*Izz*cos(xIn(11))^2*cos(xIn(10))^4 - 2*omega_roll*Iyy*Izz*cos(xIn(11))^2*cos(xIn(10))^2*sin(xIn(10))^2 + omega_roll*Iyy*Izz*cos(xIn(11))^2 + Izz^3*xIn(5)^2*cos(xIn(11))^2*cos(xIn(10))^5*sin(xIn(10)) + Izz^3*xIn(5)^2*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10))^3 + Izz^3*xIn(5)^2*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10)) - 2*Izz^3*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^6 - 2*Izz^3*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^4*sin(xIn(10))^2 - Izz^3*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^4 + Izz^3*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^2*sin(xIn(10))^2 + Izz^3*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^2 - Izz^3*xIn(6)^2*cos(xIn(11))^4*cos(xIn(10))^5*sin(xIn(10)) - Izz^3*xIn(6)^2*cos(xIn(11))^4*cos(xIn(10))^3*sin(xIn(10))^3 - Izz^3*xIn(6)^2*cos(xIn(11))^4*cos(xIn(10))^3*sin(xIn(10)) + omega_roll*Izz^2*cos(xIn(11))^2*cos(xIn(10))^4 + omega_roll*Izz^2*cos(xIn(11))^2*cos(xIn(10))^2*sin(xIn(10))^2 + omega_roll*Izz^2*cos(xIn(11))^2*cos(xIn(10))^2)/(Ixx*(Iyy^2*cos(xIn(11))^2*cos(xIn(10))^4 + Iyy^2*cos(xIn(11))^2*cos(xIn(10))^2*sin(xIn(10))^2 - Iyy^2*cos(xIn(11))^2*cos(xIn(10))^2 - 2*Iyy*Izz*cos(xIn(11))^2*cos(xIn(10))^4 - 2*Iyy*Izz*cos(xIn(11))^2*cos(xIn(10))^2*sin(xIn(10))^2 + Iyy*Izz*cos(xIn(11))^2 + Ixx*Iyy*cos(xIn(11))^2*cos(xIn(10))^2 + Ixx*sin(xIn(11))*Iyy*cos(xIn(10))^2*sin(xIn(10)) - Ixx*Iyy*cos(xIn(10))^2 + Izz^2*cos(xIn(11))^2*cos(xIn(10))^4 + Izz^2*cos(xIn(11))^2*cos(xIn(10))^2*sin(xIn(10))^2 + Izz^2*cos(xIn(11))^2*cos(xIn(10))^2 - Ixx*Izz*cos(xIn(11))^2*cos(xIn(10))^2 - Ixx*Izz*cos(xIn(11))^2 - Ixx*sin(xIn(11))*Izz*cos(xIn(10))^2*sin(xIn(10)) + Ixx*Izz*cos(xIn(10))^2 - Ixx*sin(xIn(11))*Izz*sin(xIn(10)) + Ixx*Izz));
    x_dot(5,1) = (Ixx*omega_pitch*cos(xIn(11))^2 - Ixx*omega_pitch - Iyy*omega_pitch*cos(xIn(11))^2 - Ixx^2*xIn(6)*xIn(4)*cos(xIn(11))^3 + Iyy*omega_pitch*cos(xIn(11))^2*cos(xIn(10))^2 - Izz*omega_pitch*cos(xIn(11))^2*cos(xIn(10))^2 - Ixx^2*xIn(6)^2*cos(xIn(11))*sin(xIn(11)) + Ixx^2*xIn(6)*xIn(4)*cos(xIn(11)) + Ixx*omega_pitch*sin(xIn(11))*sin(xIn(10)) + Ixx^2*xIn(6)^2*cos(xIn(11))^3*sin(xIn(11)) + Iyy^2*xIn(6)^2*cos(xIn(11))^3*sin(xIn(11)) + Ixx*Iyy*xIn(6)*xIn(4)*cos(xIn(11))^3 - 2*Iyy^2*xIn(6)^2*cos(xIn(11))^3*cos(xIn(10))^2*sin(xIn(11)) + Iyy^2*xIn(6)^2*cos(xIn(11))^3*cos(xIn(10))^4*sin(xIn(11)) + Izz^2*xIn(6)^2*cos(xIn(11))^3*cos(xIn(10))^4*sin(xIn(11)) + Iyy^2*xIn(6)*xIn(4)*cos(xIn(11))^3*cos(xIn(10))^2 - Iyy^2*xIn(6)*xIn(4)*cos(xIn(11))^3*cos(xIn(10))^4 - Izz^2*xIn(6)*xIn(4)*cos(xIn(11))^3*cos(xIn(10))^4 - Iyy^2*xIn(6)*xIn(4)*cos(xIn(11))^3*sin(xIn(10))^2 + Ixx*Iyy*xIn(6)^2*cos(xIn(11))*sin(xIn(11)) + Iyy*omega_yaw*cos(xIn(11))*cos(xIn(10))*sin(xIn(10)) - Izz*omega_yaw*cos(xIn(11))*cos(xIn(10))*sin(xIn(10)) + Ixx^2*xIn(6)^2*cos(xIn(11))*sin(xIn(11))^2*sin(xIn(10)) - 2*Ixx*Iyy*xIn(6)^2*cos(xIn(11))^3*sin(xIn(11)) + 2*Ixx*Iyy*xIn(6)^2*cos(xIn(11))^3*cos(xIn(10))^2*sin(xIn(11)) - 2*Ixx*Izz*xIn(6)^2*cos(xIn(11))^3*cos(xIn(10))^2*sin(xIn(11)) + 2*Iyy*Izz*xIn(6)^2*cos(xIn(11))^3*cos(xIn(10))^2*sin(xIn(11)) - 2*Iyy*Izz*xIn(6)^2*cos(xIn(11))^3*cos(xIn(10))^4*sin(xIn(11)) + Iyy^2*xIn(5)*xIn(4)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10))^3 + Iyy^2*xIn(5)*xIn(4)*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10)) + Izz^2*xIn(5)*xIn(4)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10))^3 + Izz^2*xIn(5)*xIn(4)*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10)) - 2*Ixx*Iyy*xIn(6)*xIn(4)*cos(xIn(11))^3*cos(xIn(10))^2 + 2*Ixx*Izz*xIn(6)*xIn(4)*cos(xIn(11))^3*cos(xIn(10))^2 - Iyy*Izz*xIn(6)*xIn(4)*cos(xIn(11))^3*cos(xIn(10))^2 + 2*Iyy*Izz*xIn(6)*xIn(4)*cos(xIn(11))^3*cos(xIn(10))^4 + Ixx*Iyy*xIn(6)*xIn(4)*cos(xIn(11))^3*sin(xIn(10))^2 - Ixx*Izz*xIn(6)*xIn(4)*cos(xIn(11))^3*sin(xIn(10))^2 + Iyy*Izz*xIn(6)*xIn(4)*cos(xIn(11))^3*sin(xIn(10))^2 + Iyy^2*xIn(6)^2*cos(xIn(11))^3*cos(xIn(10))^2*sin(xIn(11))*sin(xIn(10))^2 + Izz^2*xIn(6)^2*cos(xIn(11))^3*cos(xIn(10))^2*sin(xIn(11))*sin(xIn(10))^2 - Ixx^2*xIn(6)*xIn(4)*cos(xIn(11))*sin(xIn(11))*sin(xIn(10)) + Iyy*omega_roll*cos(xIn(11))*cos(xIn(10))*sin(xIn(11))*sin(xIn(10)) - Izz*omega_roll*cos(xIn(11))*cos(xIn(10))*sin(xIn(11))*sin(xIn(10)) - 2*Ixx*Iyy*xIn(5)*xIn(4)*cos(xIn(10))*sin(xIn(10)) + 2*Ixx*Izz*xIn(5)*xIn(4)*cos(xIn(10))*sin(xIn(10)) + 2*Iyy^2*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^2*sin(xIn(10))^2 + 2*Izz^2*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^2*sin(xIn(10))^2 + Iyy^2*xIn(6)*xIn(4)*cos(xIn(11))^3*cos(xIn(10))^2*sin(xIn(10))^2 + Izz^2*xIn(6)*xIn(4)*cos(xIn(11))^3*cos(xIn(10))^2*sin(xIn(10))^2 - Ixx*Iyy*xIn(6)^2*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(11)) + Ixx*Izz*xIn(6)^2*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(11)) - Ixx*Iyy*xIn(6)^2*cos(xIn(11))*sin(xIn(11))^2*sin(xIn(10)) - 2*Iyy^2*xIn(5)*xIn(4)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10)) + Ixx*Iyy*xIn(6)*xIn(4)*cos(xIn(11))*cos(xIn(10))^2 - Ixx*Izz*xIn(6)*xIn(4)*cos(xIn(11))*cos(xIn(10))^2 - Ixx*Iyy*xIn(6)*xIn(4)*cos(xIn(11))*sin(xIn(10))^2 + Ixx*Izz*xIn(6)*xIn(4)*cos(xIn(11))*sin(xIn(10))^2 - 2*Iyy*Izz*xIn(5)*xIn(4)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10))^3 - 2*Iyy*Izz*xIn(5)*xIn(4)*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10)) - 2*Iyy*Izz*xIn(6)^2*cos(xIn(11))^3*cos(xIn(10))^2*sin(xIn(11))*sin(xIn(10))^2 + 2*Iyy*xIn(5)*xIn(6)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(11))*sin(xIn(10)) - 2*Izz*xIn(5)*xIn(6)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(11))*sin(xIn(10)) - 4*Iyy*Izz*xIn(5)*xIn(6)*cos(xIn(11))^3*cos(xIn(10))^2*sin(xIn(10))^2 - 2*Iyy*Izz*xIn(6)*xIn(4)*cos(xIn(11))^3*cos(xIn(10))^2*sin(xIn(10))^2 - Iyy^2*xIn(5)*xIn(6)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(11))*sin(xIn(10)) - Izz^2*xIn(5)*xIn(6)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(11))*sin(xIn(10)) + 3*Ixx*Iyy*xIn(5)*xIn(4)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10)) - 3*Ixx*Izz*xIn(5)*xIn(4)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10)) + 2*Iyy*Izz*xIn(5)*xIn(4)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10)) + Ixx*Iyy*xIn(6)*xIn(4)*cos(xIn(11))*sin(xIn(11))*sin(xIn(10))^3 - Ixx*Izz*xIn(6)*xIn(4)*cos(xIn(11))*sin(xIn(11))*sin(xIn(10))^3 + 2*Ixx*Iyy*xIn(5)*xIn(4)*cos(xIn(10))*sin(xIn(11))*sin(xIn(10))^2 - 2*Ixx*Izz*xIn(5)*xIn(4)*cos(xIn(10))*sin(xIn(11))*sin(xIn(10))^2 + Ixx*Iyy*xIn(6)^2*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(11))^2*sin(xIn(10)) - Ixx*Izz*xIn(6)^2*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(11))^2*sin(xIn(10)) + 2*Iyy*Izz*xIn(5)*xIn(6)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(11))*sin(xIn(10)))/(Iyy^2*cos(xIn(11))^2*cos(xIn(10))^4 + Iyy^2*cos(xIn(11))^2*cos(xIn(10))^2*sin(xIn(10))^2 - Iyy^2*cos(xIn(11))^2*cos(xIn(10))^2 - 2*Iyy*Izz*cos(xIn(11))^2*cos(xIn(10))^4 - 2*Iyy*Izz*cos(xIn(11))^2*cos(xIn(10))^2*sin(xIn(10))^2 + Iyy*Izz*cos(xIn(11))^2 + Ixx*Iyy*cos(xIn(11))^2*cos(xIn(10))^2 + Ixx*sin(xIn(11))*Iyy*cos(xIn(10))^2*sin(xIn(10)) - Ixx*Iyy*cos(xIn(10))^2 + Izz^2*cos(xIn(11))^2*cos(xIn(10))^4 + Izz^2*cos(xIn(11))^2*cos(xIn(10))^2*sin(xIn(10))^2 + Izz^2*cos(xIn(11))^2*cos(xIn(10))^2 - Ixx*Izz*cos(xIn(11))^2*cos(xIn(10))^2 - Ixx*Izz*cos(xIn(11))^2 - Ixx*sin(xIn(11))*Izz*cos(xIn(10))^2*sin(xIn(10)) + Ixx*Izz*cos(xIn(10))^2 - Ixx*sin(xIn(11))*Izz*sin(xIn(10)) + Ixx*Izz);
    x_dot(6,1) = (Izz*omega_yaw + Izz*omega_roll*sin(xIn(11)) - Iyy*omega_yaw*cos(xIn(10))^2 + Izz*omega_yaw*cos(xIn(10))^2 - Iyy*omega_roll*cos(xIn(10))^2*sin(xIn(11)) + Izz*omega_roll*cos(xIn(10))^2*sin(xIn(11)) - Izz^2*xIn(5)*xIn(4)*cos(xIn(11))*sin(xIn(10))^2 + 2*Izz*xIn(5)*xIn(6)*cos(xIn(11))*sin(xIn(11)) + Izz^2*xIn(5)*xIn(6)*cos(xIn(11))*sin(xIn(11)) + Ixx*Izz*xIn(5)*xIn(4)*cos(xIn(11)) + Iyy*omega_pitch*cos(xIn(11))*cos(xIn(10))*sin(xIn(10)) - Izz*omega_pitch*cos(xIn(11))*cos(xIn(10))*sin(xIn(10)) + Iyy^2*xIn(5)*xIn(4)*cos(xIn(11))*cos(xIn(10))^4 + Izz^2*xIn(5)*xIn(4)*cos(xIn(11))*cos(xIn(10))^2 + Izz^2*xIn(5)*xIn(4)*cos(xIn(11))*cos(xIn(10))^4 - 2*Iyy^2*xIn(5)*xIn(6)*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10)) - 2*Izz^2*xIn(5)*xIn(6)*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10)) + Iyy^2*xIn(5)*xIn(4)*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(10))^2 + Izz^2*xIn(5)*xIn(4)*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(10))^2 + Iyy^2*xIn(6)*xIn(4)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10))^3 - Iyy^2*xIn(6)*xIn(4)*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10)) + Izz^2*xIn(6)*xIn(4)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10))^3 - Izz^2*xIn(6)*xIn(4)*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10)) - 2*Iyy*xIn(5)*xIn(6)*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(11)) + 2*Izz*xIn(5)*xIn(6)*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(11)) - Iyy*Izz*xIn(5)*xIn(6)*cos(xIn(11))*sin(xIn(11)) + Ixx*Izz*xIn(6)*xIn(4)*cos(xIn(10))*sin(xIn(11)) - Iyy^2*xIn(6)^2*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(11))*sin(xIn(10)) - Izz^2*xIn(6)^2*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(11))*sin(xIn(10)) + Iyy^2*xIn(5)*xIn(6)*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(11)) + Izz^2*xIn(5)*xIn(6)*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(11)) - 2*Izz^2*xIn(5)*xIn(6)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10)) - Ixx*Iyy*xIn(5)*xIn(4)*cos(xIn(11))*cos(xIn(10))^2 + Ixx*Izz*xIn(5)*xIn(4)*cos(xIn(11))*cos(xIn(10))^2 - Iyy*Izz*xIn(5)*xIn(4)*cos(xIn(11))*cos(xIn(10))^2 - 2*Iyy*Izz*xIn(5)*xIn(4)*cos(xIn(11))*cos(xIn(10))^4 + Iyy*Izz*xIn(5)*xIn(4)*cos(xIn(11))*sin(xIn(10))^2 - Ixx*Iyy*xIn(6)*xIn(4)*cos(xIn(10))^3*sin(xIn(11)) + Ixx*Izz*xIn(6)*xIn(4)*cos(xIn(10))^3*sin(xIn(11)) + 4*Iyy*Izz*xIn(5)*xIn(6)*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10)) - 2*Iyy*Izz*xIn(5)*xIn(4)*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(10))^2 - 2*Iyy*Izz*xIn(6)*xIn(4)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10))^3 + 2*Iyy*Izz*xIn(6)*xIn(4)*cos(xIn(11))^2*cos(xIn(10))^3*sin(xIn(10)) + Ixx*Iyy*xIn(6)^2*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(11))*sin(xIn(10)) - Ixx*Izz*xIn(6)^2*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(11))*sin(xIn(10)) + 2*Iyy*Izz*xIn(6)^2*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(11))*sin(xIn(10)) - 2*Iyy*Izz*xIn(5)*xIn(6)*cos(xIn(11))*cos(xIn(10))^2*sin(xIn(11)) + 2*Iyy*Izz*xIn(5)*xIn(6)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10)) - Ixx*Iyy*xIn(6)*xIn(4)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10)) + Ixx*Izz*xIn(6)*xIn(4)*cos(xIn(11))^2*cos(xIn(10))*sin(xIn(10)))/(Iyy^2*cos(xIn(11))^2*cos(xIn(10))^4 + Iyy^2*cos(xIn(11))^2*cos(xIn(10))^2*sin(xIn(10))^2 - Iyy^2*cos(xIn(11))^2*cos(xIn(10))^2 - 2*Iyy*Izz*cos(xIn(11))^2*cos(xIn(10))^4 - 2*Iyy*Izz*cos(xIn(11))^2*cos(xIn(10))^2*sin(xIn(10))^2 + Iyy*Izz*cos(xIn(11))^2 + Ixx*Iyy*cos(xIn(11))^2*cos(xIn(10))^2 + Ixx*sin(xIn(11))*Iyy*cos(xIn(10))^2*sin(xIn(10)) - Ixx*Iyy*cos(xIn(10))^2 + Izz^2*cos(xIn(11))^2*cos(xIn(10))^4 + Izz^2*cos(xIn(11))^2*cos(xIn(10))^2*sin(xIn(10))^2 + Izz^2*cos(xIn(11))^2*cos(xIn(10))^2 - Ixx*Izz*cos(xIn(11))^2*cos(xIn(10))^2 - Ixx*Izz*cos(xIn(11))^2 - Ixx*sin(xIn(11))*Izz*cos(xIn(10))^2*sin(xIn(10)) + Ixx*Izz*cos(xIn(10))^2 - Ixx*sin(xIn(11))*Izz*sin(xIn(10)) + Ixx*Izz);
    x_dot(7,1) = xIn(1);
    x_dot(8,1) = xIn(2);
    x_dot(9,1) = xIn(3);
    x_dot(10,1) = xIn(4);
    x_dot(11,1) = xIn(5);
    x_dot(12,1) = xIn(6);

    x = xIn + Ts*x_dot;
end